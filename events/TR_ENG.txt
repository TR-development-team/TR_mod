
add_namespace = TR_UK


country_event = {
	id = TR_UK.1
	title = TR_UK.1.t
	desc = TR_UK.1.d
	picture = GFX_report_event_eng_mosley_march_on_downing_street


        fire_only_once = yes
        is_triggered_only = yes

	
	option = { 
		name = TR_UK.1.a
        ai_chance = { factor = 100 }
        remove_ideas = ENG_revolution
        end_puppet = CAN
        end_puppet = SAF
        end_puppet = AST
        end_puppet = NZL
        end_puppet = IRE
		end_puppet = EWA
		ENR = {
			set_country_flag = ENG_revolution_FLAG
			set_rule = {
				can_join_factions = no
			}
		}
		ENG = {
			set_country_flag = ENG_revolution_FLAG
			set_rule = {
				can_join_factions = no
			}
		}
		hidden_effect = {
			add_popularity = {
				ideology = totalist
				popularity = -0.2
			}
			add_popularity = {
				ideology = syndicalist
				popularity = -0.1
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = -0.1
			}
			every_state = {
				limit = {
					is_core_of = ENG
				}
				add_core_of = ENR
			}	
            ENR = {
			    transfer_state = 130
			    transfer_state = 132
                transfer_state = 128
			    transfer_state = 129
                transfer_state = 122
                transfer_state = 131
                transfer_state = 338
                }
		    IRE = {
			    drop_cosmetic_tag = yes
            }
		    AST = {
			    drop_cosmetic_tag = yes
            }
		    SAF = {
			    drop_cosmetic_tag = yes
            }
		    NZL = {
			    drop_cosmetic_tag = yes
            }
            CAN = {
			    drop_cosmetic_tag = yes
			    transfer_state = 331
                transfer_state = 332
            }
            SPR = {
			    transfer_state = 118
            }
            ITA = {
                transfer_state = 116
                }
            ARG = {
			    transfer_state = 720
                transfer_state = 299
                }
            JAP = {
			    transfer_state = 270
                transfer_state = 703
                transfer_state = 704 
                transfer_state = 709
                }
            USA = {
			    transfer_state = 693
                transfer_state = 690
                transfer_state = 696
                transfer_state = 689
                }
            FRA = {
			    transfer_state = 687
                transfer_state = 691
                transfer_state = 692
                transfer_state = 308
                transfer_state = 707
                }
            MEX = {
			    transfer_state = 311
                }
			FRA = { 
				set_autonomy = {
					target = EWA
					autonomous_state = autonomy_colony
					}
				}
			EWA = { 
				set_cosmetic_tag = EWA_FRA
				}
            ENG = { 
				transfer_units_fraction= {
				target = ENR
				size = 0.5
				stockpile_ratio = 0.0
				army_ratio = 0.0
				navy_ratio = 0.4
				air_ratio = 0.0
				keep_unit_leaders_trigger = { always = yes }
			   } 
		    }
            country_event = {
				id = TR_news.7
				days = 2
			}
		}
	}
        option = { 
		name = TR_UK.1.b
        ai_chance = { factor = 0 }
        remove_ideas = ENG_revolution
        Leave_faction = yes
        end_puppet = CAN
        end_puppet = SAF
        end_puppet = AST
        end_puppet = NZL
        end_puppet = IRE
		ENR = {
            change_tag_from = ENG
			set_country_flag = ENG_revolution_FLAG
			set_rule = {
				can_join_factions = no
			}
		}
		ENG = {
			set_country_flag = ENG_revolution_FLAG
			set_rule = {
				can_join_factions = no
			}
		}
			hidden_effect = {
				add_popularity = {
					ideology = totalist
					popularity = -0.2
				}
				add_popularity = {
					ideology = syndicalist
					popularity = -0.1
				}
				add_popularity = {
					ideology = radical_socialist
					popularity = -0.1
				}
				every_state = {
					limit = {
						is_core_of = ENG
					}
					add_core_of = ENR
				}	
				ENR = {
					transfer_state = 130
					transfer_state = 132
					transfer_state = 128
					transfer_state = 129
					transfer_state = 122
					transfer_state = 131
					transfer_state = 338
					}
				IRE = {
					drop_cosmetic_tag = yes
				}
				AST = {
					drop_cosmetic_tag = yes
				}
				SAF = {
					drop_cosmetic_tag = yes
				}
				NZL = {
					drop_cosmetic_tag = yes
				}
				CAN = {
					drop_cosmetic_tag = yes
					transfer_state = 331
					transfer_state = 332
				}
				SPR = {
					transfer_state = 118
				}
				ITA = {
					transfer_state = 116
					}
				ARG = {
					transfer_state = 720
					transfer_state = 299
					}
				JAP = {
					transfer_state = 270
					transfer_state = 703
					transfer_state = 704 
					transfer_state = 709
					}
				USA = {
					transfer_state = 693
					transfer_state = 690
					transfer_state = 696
					transfer_state = 689
					}
				FRA = {
					transfer_state = 687
					transfer_state = 691
					transfer_state = 692
					transfer_state = 308
					transfer_state = 707
					}
				MEX = {
					transfer_state = 311
					}
				FRA = { 
					set_autonomy = {
						target = EWA
						autonomous_state = autonomy_colony
						}
					}
				EWA = { 
					set_cosmetic_tag = EWA_FRA
					}
				ENG = { 
					transfer_units_fraction= {
					target = ENR
					size = 0.5
					stockpile_ratio = 0.0
					army_ratio = 0.0
					navy_ratio = 0.4
					air_ratio = 0.0
					keep_unit_leaders_trigger = { always = yes }
				   } 
				}
				country_event = {
					id = TR_news.7
					days = 2
				}
			}
		}
}

country_event = {
	id = TR_UK.2
	title = TR_UK.2.t
	desc = TR_UK.2.d
	picture = GFX_report_event_eng_mosley_speech

	is_triggered_only = yes
        fire_only_once = yes

	option = {
		name = TR_UK.2.a
        add_ideas = ENR_REVOLUTION
		load_oob = "ENR_Civil_war"
        declare_war_on = {
			target = ENG
			type = annex_everything
		}
	}
}
#王党派の勝利
country_event = {
	id = TR_UK.3
	title = TR_UK.3.t
	desc = TR_UK.3.d
	picture = GFX_report_event_france_parade
	trigger = {
	    has_country_flag = ENG_revolution_FLAG
		tag = ENG
        ENR = { exists = no }
        }
        fire_only_once = yes

	
	option = { 
		name = TR_UK.3.a
		set_country_flag = ENG_revolution_end
    }
}
#ジョージ5世の崩御
country_event = {
	id = TR_UK.4
	title = TR_UK.4.t
	desc = TR_UK.4.d
	picture = GFX_report_event_europe_funeral
	trigger = {
		tag = ENG
		date > 1936.1.19
		has_start_date < 1936.01.02
	}	

	fire_only_once = yes
	
	option = { 
		name = TR_UK.4.a
		add_ideas = ENG_Edward_VIII
    }
}