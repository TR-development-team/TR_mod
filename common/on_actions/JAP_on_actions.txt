on_actions = {
	on_daily_JAP = {
		effect = {
			if = {
				limit = {
					NOT = {
						JAP = {
							has_country_flag = JAP_end_colony_deficit
						}
					}
				}
				set_variable = {	JAP_colony_deficit_consumer_goods_factor = 0 }
				add_to_variable = {
					var = JAP_colony_deficit_consumer_goods_factor
					value = EAF_colony_deficit 
				}
				add_to_variable = {
					var = JAP_colony_deficit_consumer_goods_factor
					value = MCG_colony_deficit 
				}
				add_to_variable = {
					var = JAP_colony_deficit_consumer_goods_factor
					value = NGA_colony_deficit 
				}
				add_to_variable = {
					var = JAP_colony_deficit_consumer_goods_factor
					value = NMB_colony_deficit 
				}
			}
		}
		effect = {
			if = {
				limit = {
					NOT = {
						JAP = {
							has_country_flag = JAP_recovering_from_the_depression
						}
					}
				}
				if = {
					limit = {
						OR = { 
							check_variable = {
								JAP_economic_stability_level = 0
							}
							check_variable = {
								JAP_economic_stability_level > 0
							}
						}
					}
					JAP = {
						remove_dynamic_modifier = {
							modifier = JAP_black_thursday
						}
						set_country_flag = JAP_recovering_from_the_depression
						country_event = TR_japan.69
					}
				}
				if = {
					limit = {
						check_variable = {
							JAP_economic_stability_level = -1
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.03
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.08
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.05
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.02
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.03
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.03
					}
				}
				if = {
					limit = {
						check_variable = {
							JAP_economic_stability_level = -2
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.06
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.16
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.1
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.04
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.06
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.06
					}
				}
				if = {
					limit = {
						check_variable = {
							JAP_economic_stability_level = -3
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.09
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.24
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.15
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.06
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.09
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.09
					}
				}
				if = {
					limit = {
						check_variable = {
							JAP_economic_stability_level = -4
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.12
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.32
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.2
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.08
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.12
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.12
					}
				}
				if = {
					limit = {
						check_variable = {
							JAP_economic_stability_level = -5
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.15
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.40
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.25
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.10
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.15
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.15
					}
				}
				if = {
					limit = {
						check_variable = {
							JAP_economic_stability_level = -6
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.18
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.48
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.3
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.12
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.18
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.18
					}
				}
				if = {
					limit = {
						check_variable = {
							JAP_economic_stability_level = -7
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.21
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.56
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.35
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.14
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.21
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.21
					}
				}
				if = {
					limit = {
						check_variable = {
							JAP_economic_stability_level = -8
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.24
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.64
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.4
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.16
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.24
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.24
					}
				}
				if = {
					limit = {
						check_variable = {
							JAP_economic_stability_level = -9
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.27
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.72
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.45
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.18
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.27
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.27
					}
				}
				if = {
					limit = {
						OR = { 
							check_variable = {
								JAP_economic_stability_level = -10
							}
							check_variable = {
								JAP_economic_stability_level < -10
							}
						}
					}
					set_variable = {
						JAP_black_thursday_stability_factor_modifier = -0.3
					}
					set_variable = {
						JAP_black_thursday_consumer_goods_factor_modifier = 0.8
					}
					set_variable = {
						JAP_black_thursday_production_speed_buildings_factor_modifier = -0.5
					}
					set_variable = {
						JAP_black_thursday_production_factory_max_efficiency_factor_modifier = -0.2
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_factory_modifier = -0.3
					}
					set_variable = {
						JAP_black_thursday_industrial_capacity_dockyard_modifier = -0.3
					}
				}
			}	
	    }
	}
}
