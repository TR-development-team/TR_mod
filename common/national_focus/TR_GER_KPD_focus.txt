focus_tree = {
	id = GER_KPD_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = GER
		}
	}
    continuous_focus_position = { x = 500 y = 1300 }

	#共産党の勝利
	focus = {
		id = GER_KPD_focus_1
		icon = GFX_goal_GER_KPD_focus
		x = 4
		y = 0
		cost = 0
        available = {
            }
		ai_will_do = {
			factor = 1000
		}
		completion_reward = {
		}
	}
	#トロツキー主義
	focus = {
		id = GER_Trotsky_focus_1
		icon = GFX_goal_GER_lev_trotsky
		x = 1
		y = 1
		cost = 0
        available = {
			has_country_leader = {
				character = GER_Lev_Trotsky
				ruling_only = yes
			}
            }
		prerequisite = { focus = GER_KPD_focus_1 }
		ai_will_do = {
			factor = 1000
		}
		completion_reward = {
			add_ideas = GER_Lev_Trotsky
			add_ideas = GER_Wilhelm_Pieck
			add_ideas = GER_ernst_thalmann
			add_ideas = GER_Walter_Ulbricht
			add_ideas = GER_Ludwig_Renn
			hidden_effect = { 
				country_event = {
				id = TR_news.34
				days = 1
				}
			}
		}
	}
	#民主集中制
	focus = {
		id = GER_Trotsky_focus_2
		icon = GFX_focus_generic_soviet_politics
		x = 1
		y = 2
		cost = 5
        available = {
            }
		prerequisite = { focus =  GER_Trotsky_focus_1 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = Democratic_centralism
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.1
			}
		}
	}
	#シュタージの創設
	focus = {
		id = GER_Trotsky_focus_3
		icon = GFX_goal_GER_stasi
		x = 1
		y = 3
		cost = 5
        available = {
            }
		prerequisite = { focus =  GER_Trotsky_focus_2 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_Stasi

		}
	}
	#保守革命派を取り込む
	focus = {
		id = GER_Trotsky_focus_4
		icon = GFX_goal_GER_collab_national_bolshevism
		x = 0
		y = 4
		cost = 5
        available = {
            }
		prerequisite = { focus =  GER_Trotsky_focus_3 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.1
			}
			add_popularity = {
				ideology = syndicalist
				popularity = -0.05
			}
			add_popularity = {
				ideology = totalist
				popularity = -0.05
			}
		}
	}
	#大衆の組織化
	focus = {
		id = GER_Trotsky_focus_5
		icon = GFX_focus_SOV_organize_wreckers
		x = 2
		y = 4
		cost = 5
        available = {
            }
		prerequisite = { focus =  GER_Trotsky_focus_3 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_organization_people
		}
	}
	#全ての権力をレーテへ
	focus = {
		id = GER_Trotsky_focus_6
		icon = GFX_focus_SOV_the_path_of_marxism_leninism
		x = 2
		y = 5
		cost = 5
        available = {
            }
		prerequisite = { focus =  GER_Trotsky_focus_4 }
		prerequisite = { focus =  GER_Trotsky_focus_5 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_stability = 0.1
			add_ideas = GER_rate_centralization
			swap_ideas = {
				remove_idea = GER_CIVILWAR_MARKS
				add_idea = GER_CIVILWAR_MARKS_1
			}
		}
	}
	#反動の粛清
	focus = {
		id = GER_Trotsky_focus_7
		icon = GFX_focus_SOV_military_purge
		x = 0
		y = 6
		cost = 5
        available = {
            }
		prerequisite = { focus =  GER_Trotsky_focus_6 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_stability = 0.1
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.1
			}
			add_timed_idea = {
				idea = GER_great_purge
				days = 365
			}      
			remove_ideas = GER_Paramilitary
		}
	}
	#赤衛軍
	focus = {
		id = GER_Trotsky_focus_8
		icon = GFX_focus_SOV_builder_of_the_red_army
		x = 2
		y = 6
		cost = 5
        available = {
            }
		prerequisite = { focus =  GER_Trotsky_focus_6 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_red_guard
		}
	}
	#永続革命論
	focus = {
		id = GER_Trotsky_focus_9
		icon = GFX_focus_fra_loyalty_trotzky
		x = 2
		y = 7
		cost = 5
        available = {
            }
		prerequisite = { focus =  GER_Trotsky_focus_7 }
		prerequisite = { focus =  GER_Trotsky_focus_8 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_permanent_revolution
			swap_ideas = {
				remove_idea = GER_CIVILWAR_MARKS_1
				add_idea = GER_CIVILWAR_MARKS_2
			}
		}
	}
	#ルクセンブルク主義
	focus = {
		id = GER_Levine_focus_1
		icon = GFX_goal_GER_rosa_luxemburg
		x = 7
		y = 1
		cost = 0
        available = {
			has_country_leader = {
				character = GER_Eugen_Levine
				ruling_only = yes
			}
            }
		prerequisite = { focus = GER_KPD_focus_1 }
		ai_will_do = {
			factor = 1000
		}
		completion_reward = {
			add_ideas = GER_Eugen_Levine
			add_ideas = GER_Ruth_Fischer
			add_ideas = GER_Anton_Ackermann
			add_ideas = GER_Ernst_Meyer
			add_ideas = GER_Julius_Leber
			hidden_effect = { 
				country_event = {
				id = TR_news.33
				days = 1
				}
			}
		}
	}
	#評議会共産主義
	focus = {
		id = GER_Levine_focus_2
		icon = GFX_goal_generic_Red_Election
		x = 7
		y = 2
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_Levine_focus_1 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = Council_communism
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.1
			}
		}
	}
	#職場民主主義
	focus = {
		id = GER_Levine_focus_3
		icon = GFX_goal_GER_workplace_democracy
		x = 7
		y = 3
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_Levine_focus_2 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_stability = 0.05
			add_ideas = GER_workplace_democracy
		}
	}
	#労働者の自発性
	focus = {
		id = GER_Levine_focus_4
		icon = GFX_goal_GER_worker_initiative
		x = 6
		y = 4
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_Levine_focus_3 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_worker_initiative
		}
	}
	#FAUDとの対話
	focus = {
		id = GER_Levine_focus_5
		icon = GFX_goal_GER_FAUD
		x = 8
		y = 4
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_Levine_focus_3 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.1
			}
			add_popularity = {
				ideology = syndicalist
				popularity = -0.1
			}
			
		}
	}
	#分権的共同体
	focus = {
		id = GER_Levine_focus_6
		icon = GFX_goal_GER_Germany_decentralized_community
		x = 6
		y = 5
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_Levine_focus_4 }
		prerequisite = { focus = GER_Levine_focus_5 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_stability = 0.1
			add_ideas = GER_decentralized_community
			swap_ideas = {
				remove_idea = GER_CIVILWAR_MARKS
				add_idea = GER_CIVILWAR_MARKS_1
			}
		}
	}
	#産業組合主義
	focus = {
		id = GER_Levine_focus_7
		icon = GFX_goal_GER_Industrial_Workers
		x = 6
		y = 6
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_Levine_focus_6 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_industrial_union
		}
	}
	#社会革命
	focus = {
		id = GER_Levine_focus_8
		icon = GFX_goal_GER_Social_revolution
		x = 8
		y = 6
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_Levine_focus_6 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			remove_ideas = GER_Paramilitary
			add_ideas = good_minimum_wage 
			add_ideas = good_max_workhours
			add_ideas = good_safety_regulations
			add_ideas = good_Unemployment_subsidies
			add_ideas = acceptable_school_system
			add_ideas = good_pensions
			add_ideas = good_health_care
		}
	}
	#帝国主義との闘争
	focus = {
		id = GER_Levine_focus_9
		icon = GFX_goal_GER_VS_Imperialism
		x = 6
		y = 7
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_Levine_focus_7 }
		prerequisite = { focus = GER_Levine_focus_8 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_spartacus
			swap_ideas = {
				remove_idea = GER_CIVILWAR_MARKS_1
				add_idea = GER_CIVILWAR_MARKS_2
			}
		}
	}
	#国際主義
	focus = {
		id = GER_KPD_focus_2
		icon = GFX_focus_generic_join_comintern
		x = 4
		y = 2
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_Levine_focus_1 focus = GER_Trotsky_focus_1 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_International_communism
		}
	}
	#前衛党の主導
	focus = {
		id = GER_KPD_focus_3
		icon = GFX_focus_SOV_behead_the_snake
		x = 3
		y = 3
		cost = 5
        available = {
        }
		prerequisite = { focus = GER_KPD_focus_2 }
		prerequisite = { focus = GER_Trotsky_focus_2 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_stability = 0.1
		}
	}
	#レーテの主導
	focus = {
		id = GER_KPD_focus_4
		icon = GFX_goal_generic_Red_Worker
		x = 5
		y = 3
		cost = 5
        available = {
        }
		prerequisite = { focus = GER_KPD_focus_2 }
		prerequisite = { focus = GER_Levine_focus_2 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_stability = 0.1
		}
	}
	#資本家と富農の解体
	focus = {
		id = GER_KPD_focus_5
		icon = GFX_focus_SOV_breadbasket_of_the_union
		x = 4
		y = 4
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_KPD_focus_3 focus = GER_KPD_focus_4 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_AntiBourgeoisie
		}
	}
	#生産手段の社会化
	focus = {
		id = GER_KPD_focus_6
		icon = GFX_goal_GER_means_of_production
		x = 4
		y = 5
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_KPD_focus_5 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_socialization_of_production
		}
	}
	#修正主義の粉砕
	focus = {
		id = GER_KPD_focus_7
		icon = GFX_goal_GER_Ban_SPD
		x = 4
		y = 6
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_KPD_focus_6 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.1
			}
			add_popularity = {
				ideology = social_democrat
				popularity = -0.05
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.05
			}
		}
	}
	#プロレタリア文化
	focus = {
		id = GER_KPD_focus_8
		icon = GFX_goal_GER_proletarian_culture
		x = 4
		y = 7
		cost = 5
        available = {
            }
		prerequisite = { focus = GER_KPD_focus_7 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_ideas = GER_proletarian_culture
		}
	}
	#世界革命を目指して
	focus = {
		id = GER_KPD_focus_9
		icon = GFX_focus_SOV_proclaim_soviet_hegemony
		x = 4
		y = 8
		cost = 8
        available = {
            }
		prerequisite = { focus = GER_Trotsky_focus_9 focus = GER_Levine_focus_9 }
		prerequisite = { focus = GER_KPD_focus_8 }
		ai_will_do = {
			factor = 160
		}
		completion_reward = {
			add_stability = 0.1
			add_ideas =  GER_WORLD_REVOLUTION
			remove_ideas = GER_CIVILWAR_MARKS_2
			remove_ideas = GER_WAR_HORROR
		}
	}
	#戦争への道
	focus = {
		id = GER_KPD_War_focus_1
		icon = GFX_
		x = 12
		y = 0
		cost = 5
        available = {
			NOT = { 
				has_idea = GER_CIVILWAR_MARKS
				has_idea = GER_CIVILWAR_MARKS_1 
				has_idea = GER_CIVILWAR_MARKS_2
			}
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			add_war_support = 0.1
		}
	}
	#エンゲルス線の建設
	focus = {
		id = GER_KPD_War_focus_2
		icon = GFX_
		x = -2
		y = 1
		cost = 5
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_1 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			50 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = GER_west_wall_forts
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 11640
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6712
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6542
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3530
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 42 = { is_demilitarized_zone = yes } }
				custom_effect_tooltip = GER_west_wall_tt
			}
			42 = {
				custom_effect_tooltip = GER_west_wall_forts
			}
			hidden_effect = {
				42 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = bunker
							level = 3
							province = 3558
							instant_build = yes
						}
						
						add_building_construction = {
							type = bunker
							level = 3
							province = 563
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11547
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9575
							instant_build = yes
						}
					}
				}
			}			
		}
	}
	#産業動員
	focus = {
		id = GER_KPD_War_focus_3
		icon = GFX_
		x = 0
		y = 1
		cost = 5
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_1 }
        available = {
		}
		bypass = { 	
			OR = { 
				has_idea = war_economy
				has_idea = tot_economic_mobilisation
			}
		}
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			increase_economy_laws = yes
		}
	}
	#軍の増員
	focus = {
		id = GER_KPD_War_focus_4
		icon = GFX_
		x = 2
		y = 1
		cost = 5
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_1 }
        available = {

		}
		bypass = { 
			OR = { 
				has_idea = extensive_conscription
				has_idea = service_by_requirement
				has_idea = all_adults_serve
				has_idea = scraping_the_barrel
			}
		}
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			increase_conscription = yes
		}
	}
	#エルザス=ロートリンゲンか戦争か
	focus = {
		id = GER_KPD_War_focus_5
		icon = GFX_
		x = 0
		y = 2
		cost = 8
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_2 }
		prerequisite = { focus = GER_KPD_War_focus_3 }
		prerequisite = { focus = GER_KPD_War_focus_4 }
		available = {
			if = {
				date > 1939.7.1
			}
			is_subject = no
			is_neighbor_of = FRA 
			}
		bypass = {
		OR = {
			has_war_with = FRA 
			is_in_faction_with = FRA
			NOT = { country_exists = FRA}
			}
		}
		ai_will_do = {
			factor = 80
			modifier = {
				factor = 0
				OR = {
					any_neighbor_country = {
						has_war_with = GER
						NOT = { has_capitulated = yes }
						strength_ratio = {
							tag = GER
							ratio > 0.6
						}
					}
				}
			}
		}
		completion_reward = {
			create_wargoal = {
				target = FRA
				type = puppet_wargoal_focus
				}
		}
	}
	#西方での革命
	focus = {
		id = GER_KPD_War_focus_6
		icon = GFX_
		x = -2
		y = 3
		cost = 8
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_5 }
		available = {
			is_subject = no
			}
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			if = {
				limit = { NOT = { has_war_with = BEL } NOT = { is_in_faction_with = BEL } country_exists = BEL }
				create_wargoal = {
					target = BEL
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { NOT = { has_war_with = NTL } NOT = { is_in_faction_with = NTL } country_exists = NTL }
				create_wargoal = {
					target = NTL
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { NOT = { has_war_with = LUX } NOT = { is_in_faction_with = LUX } country_exists = LUX }
				create_wargoal = {
					target = LUX
					type = puppet_wargoal_focus
				}
			}
		}
	}
	#兄弟の解放
	focus = {
		id = GER_KPD_War_focus_7
		icon = GFX_
		x = 0
		y = 3
		cost = 8
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_5 }
		available = {
			is_subject = no
			is_neighbor_of = AUS
			OR = {
				FRA = { has_capitulated = yes }
				is_in_faction_with = FRA
				NOT = { country_exists = FRA }
				}
			}
		bypass = {
		OR = {
			has_war_with = AUS
			is_in_faction_with = AUS
			NOT = { country_exists = AUS }
			}
		}
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			if = {
				limit = { country_exists = AUS }
				create_wargoal = {
					target = AUS
					type = annex_everything
				}
			}
		}
	}
	#東方での革命
	focus = {
		id = GER_KPD_War_focus_8
		icon = GFX_
		x = 2
		y = 3
		cost = 3
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_5 }
		available = {
			is_subject = no
			OR = {
				FRA = { has_capitulated = yes }
				is_in_faction_with = FRA
				NOT = { country_exists = FRA }
				}
			}
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			if = {
				limit = { NOT = { is_in_faction_with = POL } country_exists = POL }
				create_wargoal = {
					target = POL
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { NOT = { is_in_faction_with = LIT } country_exists = LIT }
				create_wargoal = {
					target = LIT
					type = puppet_wargoal_focus
				}
			}
		}
	}
	#イベリア革命
	focus = {
		id = GER_KPD_War_focus_9
		icon = GFX_
		x = -2
		y = 4
		cost = 8
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_6 }
		available = {
			is_subject = no
			OR = {
				FRA = { has_capitulated = yes }
				is_in_faction_with = FRA
				NOT = { country_exists = FRA }
				}
			}
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			if = {
				limit = { country_exists = SPR }
				create_wargoal = {
					target = SPR
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { country_exists = ADU }
				create_wargoal = {
					target = ADU
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { country_exists = CAT }
				create_wargoal = {
					target = CAT
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { country_exists = POR }
				create_wargoal = {
					target = POR
					type = puppet_wargoal_focus
				}
			}
		}
	}
	#北欧革命
	focus = {
		id = GER_KPD_War_focus_10
		icon = GFX_
		x = 0
		y = 4
		cost = 8
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_7 }
		available = {
			is_subject = no
			OR = {
				FRA = { has_capitulated = yes }
				is_in_faction_with = FRA
				NOT = { country_exists = FRA }
				}
			}
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
				if = {
					limit = { country_exists = DEN }
					create_wargoal = {
						target = DEN
						type = puppet_wargoal_focus
					}
				}
				if = {
					limit = { country_exists = NOR }
					create_wargoal = {
						target = NOR
						type = puppet_wargoal_focus
					}
				}
				if = {
					limit = { country_exists = SWE}
					create_wargoal = {
						target = SWE
						type = puppet_wargoal_focus
					}
				}
		}
	}
	#バルカン革命
	focus = {
		id = GER_KPD_War_focus_11
		icon = GFX_
		x = 2
		y = 4
		cost = 8
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_8 }
		available = {
			is_subject = no
			OR = {
				FRA = { has_capitulated = yes }
				is_in_faction_with = FRA
				NOT = { country_exists = FRA }
				}
			}
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			if = {
				limit = { country_exists = HUN }
				create_wargoal = {
					target = HUN
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { country_exists = BUL }
				create_wargoal = {
					target = BUL
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { country_exists = ROM }
				create_wargoal = {
					target = ROM
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { country_exists = SER }
				create_wargoal = {
					target = SER
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { country_exists = BOS }
				create_wargoal = {
					target = BOS
					type = puppet_wargoal_focus
				}
			}
			if = {
				limit = { country_exists = GRE }
				create_wargoal = {
					target = GRE
					type = puppet_wargoal_focus
				}
			}
		}
	}
	#連合王国の打倒
	focus = {
		id = GER_KPD_War_focus_12
		icon = GFX_
		x = -1
		y = 5
		cost = 8
		available = {
			is_subject = no
			OR = {
				FRA = { has_capitulated = yes }
				is_in_faction_with = FRA
				NOT = { country_exists = FRA }
				}
			}
		bypass = {
		    OR = {
			    has_war_with = GBR
			    is_in_faction_with = GBR
			    NOT = { country_exists = GBR }
			}
		}
		ai_will_do = {
			factor = 80
			modifier = {
				factor = 0
				OR = {
					any_neighbor_country = {
						has_war_with = GER
						NOT = { has_capitulated = yes }
						strength_ratio = {
							tag = GER
							ratio > 0.6
						}
					}
				}
			}
		}
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_9 }
		prerequisite = { focus = GER_KPD_War_focus_10 }
		prerequisite = { focus = GER_KPD_War_focus_11 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			if = {
				limit = { country_exists = GBR }
				create_wargoal = {
					target = GBR
					type = puppet_wargoal_focus
				}
			}
		}
	}
	#ロシアの打倒
	focus = {
		id = GER_KPD_War_focus_13
		icon = GFX_
		x = 1
		y = 5
		cost = 8
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_9 }
		prerequisite = { focus = GER_KPD_War_focus_10 }
		prerequisite = { focus = GER_KPD_War_focus_11 }
		available = {
			is_subject = no
			OR = {
				FRA = { has_capitulated = yes }
				is_in_faction_with = FRA
				NOT = { country_exists = FRA }
				}
			}
		bypass = {
		    OR = {
			    has_war_with = RUS
			    is_in_faction_with = RUS
			    NOT = { country_exists = RUS }
			}
		}
		ai_will_do = {
			factor = 80
			modifier = {
				factor = 0
				OR = {
					any_neighbor_country = {
						has_war_with = GER
						NOT = { has_capitulated = yes }
						strength_ratio = {
							tag = GER
							ratio > 0.6
						}
					}
				}
			}
		}
		completion_reward = {
			if = {
				limit = { country_exists = RUS }
				create_wargoal = {
					target = RUS
					type = puppet_wargoal_focus
				}
			}
		}
	}
	#欧州革命の完遂
	focus = {
		id = GER_KPD_War_focus_14
		icon = GFX_
		x = 0
		y = 6
		cost = 8
		relative_position_id = GER_KPD_War_focus_1
		prerequisite = { focus = GER_KPD_War_focus_12 }
		prerequisite = { focus = GER_KPD_War_focus_13 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			add_ideas = GER_international_republic
			if = {
				limit = { has_country_flag = GER_KPD_Lev_Trotsky }
				set_cosmetic_tag = GER_Rate_trotsky
			}
			if = {
				limit = { has_country_flag = GER_KPD_Eugen_Levine }
				set_cosmetic_tag = GER_Rate_luxemburg
			}
		}
	}
	#第三インターナショナルの拡大
	focus = {
		id = GER_KPD_Diplomacy_focus_1
		icon = GFX_goal_support_communism
		x = 19
		y = 0
		cost = 5
        available = {
            }
		ai_will_do = {
			factor = 60
		}
		completion_reward = {
		}
	}
	#アメリカの同志と接触
	focus = {
		id = GER_KPD_Diplomacy_focus_2
		icon = GFX_
		x = -3
		y = 1
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_1 }
        available = {
            }
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	#独立運動への支援
	focus = {
		id = GER_KPD_Diplomacy_focus_3
		icon = GFX_
		x = -1
		y = 1
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_1 }
        available = {
            }
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	#欧州革命の支援
	focus = {
		id = GER_KPD_Diplomacy_focus_4
		icon = GFX_
		x = 1
		y = 1
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_1 }
        available = {
            }
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	#万国の労働者よ、団結せよ！
	focus = {
		id = GER_KPD_Diplomacy_focus_5
		icon = GFX_
		x = 3
		y = 1
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_1 }
        available = {
            }
		ai_will_do = {
			factor = 60
		}
		completion_reward = {
		}
	}
	#アンデス連合との接触
	focus = {
		id = GER_KPD_Diplomacy_focus_6
		icon = GFX_
		x = -3
		y = 2
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_2 }
        available = {
            }
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	#アメリカ大陸での革命
	focus = {
		id = GER_KPD_Diplomacy_focus_7
		icon = GFX_
		x = -3
		y = 3
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_6 }
        available = {
            }
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	#アフリカでの蜂起を支援
	focus = {
		id = GER_KPD_Diplomacy_focus_8
		icon = GFX_
		x = -1
		y = 2
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_3 }
        available = {
            }
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	#アジアでの蜂起を支援
	focus = {
		id = GER_KPD_Diplomacy_focus_9
		icon = GFX_
		x = -1
		y = 3
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_8 }
        available = {
            }
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	#ポーランドへの支援
	focus = {
		id = GER_KPD_Diplomacy_focus_10
		icon = GFX_
		x = 1
		y = 2
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_4 }
        available = {
            }
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	#ロシアへの支援
	focus = {
		id = GER_KPD_Diplomacy_focus_11
		icon = GFX_
		x = 1
		y = 3
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_10 }
        available = {
            }
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	#国際共産主義文化協会
	focus = {
		id = GER_KPD_Diplomacy_focus_12
		icon = GFX_
		x = 3
		y = 2
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_5 }
        available = {
            }
		ai_will_do = {
			factor = 60
		}
		completion_reward = {
			every_country = { 
                limit = { is_in_faction_with = GER has_socialist_government = yes }
                add_ideas = Internationaler_Kommunistischer_Kulturverein
            }
		}
	}
	#マルクス科学協会
	focus = {
		id = GER_KPD_Diplomacy_focus_13
		icon = GFX_
		x = 3
		y = 3
		cost = 5
		relative_position_id = GER_KPD_Diplomacy_focus_1
		prerequisite = { focus = GER_KPD_Diplomacy_focus_12 }
        available = {
            }
		ai_will_do = {
			factor = 60
		}
		completion_reward = {
			every_country = { 
                limit = { is_in_faction_with = GER has_socialist_government = yes }
                add_to_tech_sharing_group = International_research
            }
		}
	}
	#社会主義経済への道
	focus = {
		id = GER_KPD_Economy_focus_1
		icon = GFX_
		x = 19
		y = 4
		cost = 5
        available = {
            }
		ai_will_do = {
			factor = 120
		}
		completion_reward = {
			add_stability = 0.05
		}
	}
	#産業の加速
	focus = {
		id = GER_KPD_Economy_focus_2
		icon = GFX_
		x = -2
		y = 1
		cost = 8
		available = {
			has_country_leader = {
				character = GER_Lev_Trotsky
				ruling_only = yes
			}
            }
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_1 }
		mutually_exclusive = { focus = GER_KPD_Economy_focus_3 }
		ai_will_do = {
			factor = 120
		}
		completion_reward = {
			add_ideas = GER_Trotskyism_economy
		}
	}
	#自主管理社会主義
	focus = {
		id = GER_KPD_Economy_focus_3
		icon = GFX_
		x = 2
		y = 1
		cost = 8
		available = {
			has_country_leader = {
				character = GER_Eugen_Levine
				ruling_only = yes
			}
            }
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_1 }
		mutually_exclusive = { focus = GER_KPD_Economy_focus_2 }
		ai_will_do = {
			factor = 120
		}
		completion_reward = {
			add_ideas = GER_Luxemburgism_economy
		}
	}
	#国家品質承認
	focus = {
		id = GER_KPD_Economy_focus_4
		icon = GFX_
		x = -4
		y = 2
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_2 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = GER_Trotskyism_economy
				add_idea = GER_Trotskyism_economy_1
			}
		}
	}
	#労働条件の改善
	focus = {
		id = GER_KPD_Economy_focus_5
		icon = GFX_
		x = -4
		y = 3
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_4 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			add_stability = 0.1
			add_ideas = good_minimum_wage 
			add_ideas = good_max_workhours
			add_ideas = good_safety_regulations
			add_ideas = good_Unemployment_subsidies
		}
	}
	#トラクター工場
	focus = {
		id = GER_KPD_Economy_focus_6
		icon = GFX_goal_generic_construct_mil_factory
		x = -2
		y = 2
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_2 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			add_ideas = GER_tractor
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	#自発的な農業集団化
	focus = {
		id = GER_KPD_Economy_focus_7
		icon = GFX_focus_prc_agrarian_socialism
		x = -2
		y = 3
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_6 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			add_ideas = GER_agricultural_collectivization
		}
	}
	#国家計画委員会
	focus = {
		id = GER_KPD_Economy_focus_8
		icon = GFX_
		x = 0
		y = 2
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_2 focus = GER_KPD_Economy_focus_3 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = GER_WAR_COMMUNISM
				add_idea = GER_WAR_COMMUNISM_1
			}
		}
	}
	#資源管理委員会
	focus = {
		id = GER_KPD_Economy_focus_9
		icon = GFX_focus_generic_steel
		x = 0
		y = 3
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_8 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = GER_WAR_COMMUNISM_1
				add_idea = GER_WAR_COMMUNISM_2
			}
		}
	}
	#分権的計画経済
	focus = {
		id = GER_KPD_Economy_focus_10
		icon = GFX_
		x = 2
		y = 2
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_3 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = GER_Luxemburgism_economy
				add_idea = GER_Luxemburgism_economy_1
			}
		}
	}
	#労働者主導の工場経営
	focus = {
		id = GER_KPD_Economy_focus_11
		icon = GFX_
		x = 2
		y = 3
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_10 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = GER_Luxemburgism_economy_1
				add_idea = GER_Luxemburgism_economy_2
			}
		}
	}
	#同志ランゲの市場社会主義理論
	focus = {
		id = GER_KPD_Economy_focus_12
		icon = GFX_
		x = 4
		y = 2
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_3 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			add_ideas = GER_market_socialism
		}
	}
	#投資の公的管理
	focus = {
		id = GER_KPD_Economy_focus_13
		icon = GFX_
		x = 4
		y = 3
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_12 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = GER_market_socialism
				add_idea = GER_market_socialism_1
			}
		}
	}
	#超工業化
	focus = {
		id = GER_KPD_Economy_focus_14
		icon = GFX_focus_SOV_merge_plants
		x = -2
		y = 4
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_5 }
		prerequisite = { focus = GER_KPD_Economy_focus_7 }
		prerequisite = { focus = GER_KPD_Economy_focus_9 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = GER_Trotskyism_economy_1
				add_idea = GER_Trotskyism_economy_2
			}
		}
	}
	#社会主義科学
	focus = {
		id = GER_KPD_Economy_focus_15
		icon = GFX_focus_generic_socialist_science
		x = 0
		y = 4
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_5 focus = GER_KPD_Economy_focus_11 }
		prerequisite = { focus = GER_KPD_Economy_focus_7 focus = GER_KPD_Economy_focus_13 }
		prerequisite = { focus = GER_KPD_Economy_focus_9 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = GER_WAR_COMMUNISM_2
				add_idea = GER_WAR_COMMUNISM_3
			}
		}
	}
	#新経済メカニズム
	focus = {
		id = GER_KPD_Economy_focus_16
		icon = GFX_
		x = 2
		y = 4
		cost = 5
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_11 }
		prerequisite = { focus = GER_KPD_Economy_focus_13 }
		prerequisite = { focus = GER_KPD_Economy_focus_9 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = GER_Luxemburgism_economy_2
				add_idea = GER_Luxemburgism_economy_3
			}
		}
	}
	#フンボルト大学
	focus = {
		id = GER_KPD_Economy_focus_17
		icon = GFX_
		x = 0
		y = 5
		cost = 8
		relative_position_id = GER_KPD_Economy_focus_1
		prerequisite = { focus = GER_KPD_Economy_focus_14 focus = GER_KPD_Economy_focus_16 }
		prerequisite = { focus = GER_KPD_Economy_focus_15 }
        available = {
            }
		ai_will_do = {
			factor = 80
		}
		completion_reward = {
			add_research_slot = 1
		}
	}

	shared_focus = GER_military_focus_1
	shared_focus = GER_military_focus_2
	shared_focus = GER_military_focus_3
	shared_focus = GER_military_focus_4
	shared_focus = GER_military_focus_5
	shared_focus = GER_military_focus_6
	shared_focus = GER_military_focus_7
	shared_focus = GER_military_focus_8
	shared_focus = GER_military_focus_9
	shared_focus = GER_military_focus_10
	shared_focus = GER_military_focus_11
	shared_focus = GER_military_focus_12
	shared_focus = GER_military_focus_13
	shared_focus = GER_military_focus_14
	shared_focus = GER_military_focus_15
	shared_focus = GER_military_focus_16
	shared_focus = GER_military_focus_17
	shared_focus = GER_military_focus_18
	shared_focus = GER_military_focus_19
	shared_focus = GER_military_focus_20
	shared_focus = GER_military_focus_21
	shared_focus = GER_military_focus_22
	shared_focus = GER_military_focus_23
	shared_focus = GER_military_focus_24
	shared_focus = GER_military_focus_25
	shared_focus = GER_military_focus_26
	shared_focus = GER_military_focus_27
	
	shared_focus = GER_Air_focus_1
	shared_focus = GER_Air_focus_2
	shared_focus = GER_Air_focus_3
	shared_focus = GER_Air_focus_4
	shared_focus = GER_Air_focus_5
	shared_focus = GER_Air_focus_6
	shared_focus = GER_Air_focus_7
	shared_focus = GER_Air_focus_8
	shared_focus = GER_Air_focus_9
	shared_focus = GER_Air_focus_10
	shared_focus = GER_Air_focus_11
	shared_focus = GER_Air_focus_12
	shared_focus = GER_Air_focus_13
	shared_focus = GER_Air_focus_14

	shared_focus = GER_navy_focus_1
	shared_focus = GER_navy_focus_2
	shared_focus = GER_navy_focus_3
	shared_focus = GER_navy_focus_4
	shared_focus = GER_navy_focus_5
	shared_focus = GER_navy_focus_6
	shared_focus = GER_navy_focus_7
	shared_focus = GER_navy_focus_8
	shared_focus = GER_navy_focus_9
	shared_focus = GER_navy_focus_10
	shared_focus = GER_navy_focus_11
	shared_focus = GER_navy_focus_12
	shared_focus = GER_navy_focus_13
	shared_focus = GER_navy_focus_14
	shared_focus = GER_navy_focus_15
	shared_focus = GER_navy_focus_16
	shared_focus = GER_navy_focus_17

}

	

	


 